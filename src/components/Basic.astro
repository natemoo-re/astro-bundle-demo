---
import { emitAsset } from "astro:bundle";

interface Props {
  data: any;
}

const asset = await emitAsset(
  "@basic/[hash].json",
  JSON.stringify(Astro.props.data, null, 2)
);
---

<pre>{asset}</pre>

<script type="module" define:vars={{ asset }}>
  const foo = await fetch(asset).then((res) => res.json());
  console.log(foo);
</script>
