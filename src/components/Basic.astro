---
import { Store } from "astro:store";

interface Props {
  data: any;
}

const store = new Store("image");
const asset = await store.put(
  "[hash].json",
  JSON.stringify(Astro.props.data, null, 2)
);
---

<pre>{asset}</pre>

<script type="module" define:vars={{ asset }}>
  const foo = await fetch(asset).then((res) => res.json());
  console.log(foo);
</script>
